document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("filter-toggle"),t=document.querySelector(".filter-bar");e&&(e.addEventListener("click",()=>{t.classList.toggle("expanded");const n=e.querySelector("span");t.classList.contains("expanded")?n.textContent="Filters":n.textContent="Filters"}),document.addEventListener("click",n=>{!e.contains(n.target)&&!t.contains(n.target)&&(t.classList.remove("expanded"),e.querySelector("span").textContent="Filters")}));const n=document.getElementById("theme-toggle");n&&n.addEventListener("click",toggleTheme),initializeTheme(),initCustomSelects()});function initCustomSelects(){document.querySelectorAll(".custom-select").forEach(e=>{const t=e.querySelector(".select-selected"),n=e.querySelector(".select-items");if(!t||!n)return;t.addEventListener("click",s=>{s.stopPropagation(),closeAllSelect(e),n.classList.toggle("select-show"),t.classList.toggle("select-arrow-active")}),e.querySelectorAll(".select-item").forEach(s=>{s.addEventListener("click",()=>{const o=s.dataset.value;t.textContent=s.textContent,t.dataset.value=o,n.classList.remove("select-show"),t.classList.remove("select-arrow-active"),e.querySelectorAll(".same-as-selected").forEach(e=>{e.classList.remove("same-as-selected")}),s.classList.add("same-as-selected");const i=new CustomEvent("select-change",{detail:{value:o}});e.dispatchEvent(i)})})}),document.addEventListener("click",closeAllSelect)}function closeAllSelect(e){const t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected");Array.from(t).forEach(t=>{if(e?.contains(t.parentElement))return;t.classList.remove("select-show")}),Array.from(n).forEach(t=>{if(e?.contains(t.parentElement))return;t.classList.remove("select-arrow-active")})}
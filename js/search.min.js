document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("search-input"),n=document.querySelector(".category-filter"),s=document.querySelector(".growth-filter"),i=document.querySelectorAll(".note-item");let a;function r(e,t){return(...n)=>{clearTimeout(a),a=setTimeout(()=>e.apply(this,n),t)}}function o(){const o=t?.value.toLowerCase()||"",a=n?.querySelector(".select-selected")?.dataset.value||"",r=s?.querySelector(".select-selected")?.dataset.value||"";i.forEach(e=>{const t=e.querySelector(".note-title a").textContent.toLowerCase(),n=e.dataset.category||"",s=e.dataset.growth||"",i=!o||t.includes(o),c=!a||n.toLowerCase()===a.toLowerCase(),l=!r||s.toLowerCase()===r.toLowerCase();i&&c&&l?(e.classList.remove("hidden"),e.classList.add("visible")):(e.classList.remove("visible"),e.classList.add("hidden"))});const e=new URLSearchParams(window.location.search);o?e.set("search",o):e.delete("search"),a?e.set("category",a):e.delete("category"),r?e.set("growth",r):e.delete("growth");const c=window.location.pathname+(e.toString()?"?"+e.toString():"");history.replaceState(null,"",c)}const c=r(()=>{o()},150);t&&(t.addEventListener("input",c),t.addEventListener("change",function(){this.value||o()})),[n,s].forEach(e=>{e&&e.addEventListener("select-change",()=>{o()})});const e=new URLSearchParams(window.location.search);if(e.toString()){if(t&&e.has("search")&&(t.value=e.get("search")),n&&e.has("category")){const s=e.get("category"),t=n.querySelector(".select-selected"),o=n.querySelector(`.select-item[data-value="${s}"]`);t&&o&&(t.textContent=o.textContent,t.dataset.value=s)}if(s&&e.has("growth")){const n=e.get("growth"),t=s.querySelector(".select-selected"),o=s.querySelector(`.select-item[data-value="${n}"]`);t&&o&&(t.textContent=o.textContent,t.dataset.value=n)}o()}else i.forEach(e=>{e.classList.remove("hidden"),e.classList.add("visible")})})